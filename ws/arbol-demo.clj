;; gorilla-repl.fileformat = 1

;; **
;;; # Arbol
;;; 
;;; The following worksheet demos the functionality of Arbol.  Arbol is a mixed data type tree transformer enabled with simple selector.  No more chaining or awkward mapping reduce.  Target n-depth data structures and do with them as you please.  All collections should be supported!
;;; TODO these examples will probably fail, update for the latest selector format
;; **

;; @@
(ns arbol-demo
  (:require [arbol.core :as core]))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-nil'>nil</span>","value":"nil"}
;; <=

;; **
;;; Setup a few simple sources of data
;; **

;; @@
(def simple
  [{:key "A" 
    :values "a val"} 
   {:key "B" 
    :values "b val"}])  

(def simple-map
  {:key "A" 
   :values "a val"
   :child {:key "B" 
           :values "b val"}})

(def mixed 
  [{:key "A" 
    :values [{:x "a" :y 1} 
             {:x "b" :y 2} 
             {:x "c" :y 3}]} 
   {:key "B" 
    :values [{:x "d" :y 4} 
             {:x "e" :y 5} 
             {:x "f" :y 6}]}])
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-var'>#&#x27;arbol-demo/mixed</span>","value":"#'arbol-demo/mixed"}
;; <=

;; **
;;; Each statement below demos transformations.  Comments provide background on the interesting parts.
;; **

;; @@
(core/climb simple [:values] #(str "<" % ">")) ; select any :values element in the vector tree
;; @@
;; =>
;;; {"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:values</span>","value":":values"},{"type":"html","content":"<span class='clj-string'>&quot;&lt;a val&gt;&quot;</span>","value":"\"<a val>\""}],"value":"[:values \"<a val>\"]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:key</span>","value":":key"},{"type":"html","content":"<span class='clj-string'>&quot;A&quot;</span>","value":"\"A\""}],"value":"[:key \"A\"]"}],"value":"{:values \"<a val>\", :key \"A\"}"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:values</span>","value":":values"},{"type":"html","content":"<span class='clj-string'>&quot;&lt;b val&gt;&quot;</span>","value":"\"<b val>\""}],"value":"[:values \"<b val>\"]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:key</span>","value":":key"},{"type":"html","content":"<span class='clj-string'>&quot;B&quot;</span>","value":"\"B\""}],"value":"[:key \"B\"]"}],"value":"{:values \"<b val>\", :key \"B\"}"}],"value":"[{:values \"<a val>\", :key \"A\"} {:values \"<b val>\", :key \"B\"}]"}
;; <=

;; @@
(core/climb simple-map [:child :values] #(str "<" % ">")) ; select :values at any level of descendent from :child
;; @@
;; =>
;;; {"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:child</span>","value":":child"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:values</span>","value":":values"},{"type":"html","content":"<span class='clj-string'>&quot;&lt;b val&gt;&quot;</span>","value":"\"<b val>\""}],"value":"[:values \"<b val>\"]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:key</span>","value":":key"},{"type":"html","content":"<span class='clj-string'>&quot;B&quot;</span>","value":"\"B\""}],"value":"[:key \"B\"]"}],"value":"{:values \"<b val>\", :key \"B\"}"}],"value":"[:child {:values \"<b val>\", :key \"B\"}]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:values</span>","value":":values"},{"type":"html","content":"<span class='clj-string'>&quot;a val&quot;</span>","value":"\"a val\""}],"value":"[:values \"a val\"]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:key</span>","value":":key"},{"type":"html","content":"<span class='clj-string'>&quot;A&quot;</span>","value":"\"A\""}],"value":"[:key \"A\"]"}],"value":"{:child {:values \"<b val>\", :key \"B\"}, :values \"a val\", :key \"A\"}"}
;; <=

;; @@
(core/climb simple-map [:values] #(str "<" % ">")) ; select any :values element in the map tree
;; @@
;; =>
;;; {"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:child</span>","value":":child"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:values</span>","value":":values"},{"type":"html","content":"<span class='clj-string'>&quot;&lt;b val&gt;&quot;</span>","value":"\"<b val>\""}],"value":"[:values \"<b val>\"]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:key</span>","value":":key"},{"type":"html","content":"<span class='clj-string'>&quot;B&quot;</span>","value":"\"B\""}],"value":"[:key \"B\"]"}],"value":"{:values \"<b val>\", :key \"B\"}"}],"value":"[:child {:values \"<b val>\", :key \"B\"}]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:values</span>","value":":values"},{"type":"html","content":"<span class='clj-string'>&quot;&lt;a val&gt;&quot;</span>","value":"\"<a val>\""}],"value":"[:values \"<a val>\"]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:key</span>","value":":key"},{"type":"html","content":"<span class='clj-string'>&quot;A&quot;</span>","value":"\"A\""}],"value":"[:key \"A\"]"}],"value":"{:child {:values \"<b val>\", :key \"B\"}, :values \"<a val>\", :key \"A\"}"}
;; <=

;; @@
(core/climb mixed [:y] inc) ; increment all :y values
;; @@
;; =>
;;; {"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:values</span>","value":":values"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:x</span>","value":":x"},{"type":"html","content":"<span class='clj-string'>&quot;a&quot;</span>","value":"\"a\""}],"value":"[:x \"a\"]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"}],"value":"[:y 2]"}],"value":"{:x \"a\", :y 2}"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:x</span>","value":":x"},{"type":"html","content":"<span class='clj-string'>&quot;b&quot;</span>","value":"\"b\""}],"value":"[:x \"b\"]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-long'>3</span>","value":"3"}],"value":"[:y 3]"}],"value":"{:x \"b\", :y 3}"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:x</span>","value":":x"},{"type":"html","content":"<span class='clj-string'>&quot;c&quot;</span>","value":"\"c\""}],"value":"[:x \"c\"]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-long'>4</span>","value":"4"}],"value":"[:y 4]"}],"value":"{:x \"c\", :y 4}"}],"value":"[{:x \"a\", :y 2} {:x \"b\", :y 3} {:x \"c\", :y 4}]"}],"value":"[:values [{:x \"a\", :y 2} {:x \"b\", :y 3} {:x \"c\", :y 4}]]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:key</span>","value":":key"},{"type":"html","content":"<span class='clj-string'>&quot;A&quot;</span>","value":"\"A\""}],"value":"[:key \"A\"]"}],"value":"{:values [{:x \"a\", :y 2} {:x \"b\", :y 3} {:x \"c\", :y 4}], :key \"A\"}"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:values</span>","value":":values"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:x</span>","value":":x"},{"type":"html","content":"<span class='clj-string'>&quot;d&quot;</span>","value":"\"d\""}],"value":"[:x \"d\"]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-long'>5</span>","value":"5"}],"value":"[:y 5]"}],"value":"{:x \"d\", :y 5}"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:x</span>","value":":x"},{"type":"html","content":"<span class='clj-string'>&quot;e&quot;</span>","value":"\"e\""}],"value":"[:x \"e\"]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-long'>6</span>","value":"6"}],"value":"[:y 6]"}],"value":"{:x \"e\", :y 6}"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:x</span>","value":":x"},{"type":"html","content":"<span class='clj-string'>&quot;f&quot;</span>","value":"\"f\""}],"value":"[:x \"f\"]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-long'>7</span>","value":"7"}],"value":"[:y 7]"}],"value":"{:x \"f\", :y 7}"}],"value":"[{:x \"d\", :y 5} {:x \"e\", :y 6} {:x \"f\", :y 7}]"}],"value":"[:values [{:x \"d\", :y 5} {:x \"e\", :y 6} {:x \"f\", :y 7}]]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:key</span>","value":":key"},{"type":"html","content":"<span class='clj-string'>&quot;B&quot;</span>","value":"\"B\""}],"value":"[:key \"B\"]"}],"value":"{:values [{:x \"d\", :y 5} {:x \"e\", :y 6} {:x \"f\", :y 7}], :key \"B\"}"}],"value":"[{:values [{:x \"a\", :y 2} {:x \"b\", :y 3} {:x \"c\", :y 4}], :key \"A\"} {:values [{:x \"d\", :y 5} {:x \"e\", :y 6} {:x \"f\", :y 7}], :key \"B\"}]"}
;; <=

;; @@
(core/climb mixed [:values :map] #(dissoc % :x)) ; remove :x from the :values child vectors
;; @@
;; =>
;;; {"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:values</span>","value":":values"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-long'>1</span>","value":"1"}],"value":"[:y 1]"}],"value":"{:y 1}"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"}],"value":"[:y 2]"}],"value":"{:y 2}"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-long'>3</span>","value":"3"}],"value":"[:y 3]"}],"value":"{:y 3}"}],"value":"[{:y 1} {:y 2} {:y 3}]"}],"value":"[:values [{:y 1} {:y 2} {:y 3}]]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:key</span>","value":":key"},{"type":"html","content":"<span class='clj-string'>&quot;A&quot;</span>","value":"\"A\""}],"value":"[:key \"A\"]"}],"value":"{:values [{:y 1} {:y 2} {:y 3}], :key \"A\"}"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:values</span>","value":":values"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-long'>4</span>","value":"4"}],"value":"[:y 4]"}],"value":"{:y 4}"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-long'>5</span>","value":"5"}],"value":"[:y 5]"}],"value":"{:y 5}"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-long'>6</span>","value":"6"}],"value":"[:y 6]"}],"value":"{:y 6}"}],"value":"[{:y 4} {:y 5} {:y 6}]"}],"value":"[:values [{:y 4} {:y 5} {:y 6}]]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:key</span>","value":":key"},{"type":"html","content":"<span class='clj-string'>&quot;B&quot;</span>","value":"\"B\""}],"value":"[:key \"B\"]"}],"value":"{:values [{:y 4} {:y 5} {:y 6}], :key \"B\"}"}],"value":"[{:values [{:y 1} {:y 2} {:y 3}], :key \"A\"} {:values [{:y 4} {:y 5} {:y 6}], :key \"B\"}]"}
;; <=

;; **
;;; The next examples shows multiple transformations.  Arbol figures this out by a vector check, and evaluates each chain of functions on the selected data.  Be careful!  Don't accidently change a type from vector to seq if you depend on data type selections later!
;; **

;; @@
(core/climb 
  mixed 
  [:values :vec] #(take-last 2 %) reverse vec ; notice the switch back to a vector
  [:values :map] #(assoc % :orig-y (:y %))    ; save the original
  [:y]           (partial * 2) inc)           ; just a little chaining just for the heck of it
;; @@
;; =>
;;; {"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:values</span>","value":":values"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:x</span>","value":":x"},{"type":"html","content":"<span class='clj-string'>&quot;c&quot;</span>","value":"\"c\""}],"value":"[:x \"c\"]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-long'>7</span>","value":"7"}],"value":"[:y 7]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:orig-y</span>","value":":orig-y"},{"type":"html","content":"<span class='clj-long'>3</span>","value":"3"}],"value":"[:orig-y 3]"}],"value":"{:x \"c\", :y 7, :orig-y 3}"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:x</span>","value":":x"},{"type":"html","content":"<span class='clj-string'>&quot;b&quot;</span>","value":"\"b\""}],"value":"[:x \"b\"]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-long'>5</span>","value":"5"}],"value":"[:y 5]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:orig-y</span>","value":":orig-y"},{"type":"html","content":"<span class='clj-long'>2</span>","value":"2"}],"value":"[:orig-y 2]"}],"value":"{:x \"b\", :y 5, :orig-y 2}"}],"value":"[{:x \"c\", :y 7, :orig-y 3} {:x \"b\", :y 5, :orig-y 2}]"}],"value":"[:values [{:x \"c\", :y 7, :orig-y 3} {:x \"b\", :y 5, :orig-y 2}]]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:key</span>","value":":key"},{"type":"html","content":"<span class='clj-string'>&quot;A&quot;</span>","value":"\"A\""}],"value":"[:key \"A\"]"}],"value":"{:values [{:x \"c\", :y 7, :orig-y 3} {:x \"b\", :y 5, :orig-y 2}], :key \"A\"}"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:values</span>","value":":values"},{"type":"list-like","open":"<span class='clj-vector'>[</span>","close":"<span class='clj-vector'>]</span>","separator":" ","items":[{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:x</span>","value":":x"},{"type":"html","content":"<span class='clj-string'>&quot;f&quot;</span>","value":"\"f\""}],"value":"[:x \"f\"]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-long'>13</span>","value":"13"}],"value":"[:y 13]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:orig-y</span>","value":":orig-y"},{"type":"html","content":"<span class='clj-long'>6</span>","value":"6"}],"value":"[:orig-y 6]"}],"value":"{:x \"f\", :y 13, :orig-y 6}"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:x</span>","value":":x"},{"type":"html","content":"<span class='clj-string'>&quot;e&quot;</span>","value":"\"e\""}],"value":"[:x \"e\"]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:y</span>","value":":y"},{"type":"html","content":"<span class='clj-long'>11</span>","value":"11"}],"value":"[:y 11]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:orig-y</span>","value":":orig-y"},{"type":"html","content":"<span class='clj-long'>5</span>","value":"5"}],"value":"[:orig-y 5]"}],"value":"{:x \"e\", :y 11, :orig-y 5}"}],"value":"[{:x \"f\", :y 13, :orig-y 6} {:x \"e\", :y 11, :orig-y 5}]"}],"value":"[:values [{:x \"f\", :y 13, :orig-y 6} {:x \"e\", :y 11, :orig-y 5}]]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:key</span>","value":":key"},{"type":"html","content":"<span class='clj-string'>&quot;B&quot;</span>","value":"\"B\""}],"value":"[:key \"B\"]"}],"value":"{:values [{:x \"f\", :y 13, :orig-y 6} {:x \"e\", :y 11, :orig-y 5}], :key \"B\"}"}],"value":"[{:values [{:x \"c\", :y 7, :orig-y 3} {:x \"b\", :y 5, :orig-y 2}], :key \"A\"} {:values [{:x \"f\", :y 13, :orig-y 6} {:x \"e\", :y 11, :orig-y 5}], :key \"B\"}]"}
;; <=

;; @@

;; @@
